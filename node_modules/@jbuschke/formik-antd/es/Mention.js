import * as tslib_1 from "tslib";
import { Mention as $Mention } from "antd";
import { Field } from "formik";
import * as React from "react";
const { toContentState, toString } = $Mention;
export const Mention = (_a) => {
    var { name, validate } = _a, restProps = tslib_1.__rest(_a, ["name", "validate"]);
    return (React.createElement(Field, { name: name, validate: validate }, ({ field: { value }, form: { setFieldValue, setFieldTouched } }) => (React.createElement(Internal, Object.assign({ name: name, value: value, onChange: v => setFieldValue(name, v), onBlur: () => setFieldTouched(name) }, restProps)))));
};
const Internal = (_a) => {
    var { value, onChange, onBlur } = _a, restProps = tslib_1.__rest(_a, ["value", "onChange", "onBlur"]);
    const [editorState, setEditorState] = React.useState(toContentState(value || ""));
    return (React.createElement($Mention, Object.assign({ value: editorState, onChange: v => {
            setEditorState(v);
            onChange(toString(v));
        } }, restProps)));
};
//# sourceMappingURL=Mention.js.map