"use strict";
exports.__esModule = true;
var tslib_1 = require("tslib");
var antd_1 = require("antd");
var formik_1 = require("formik");
var React = tslib_1.__importStar(require("react"));
var toContentState = antd_1.Mention.toContentState, toString = antd_1.Mention.toString;
exports.Mention = function (_a) {
    var name = _a.name, validate = _a.validate, restProps = tslib_1.__rest(_a, ["name", "validate"]);
    return (React.createElement(formik_1.Field, { name: name, validate: validate }, function (_a) {
        var value = _a.field.value, _b = _a.form, setFieldValue = _b.setFieldValue, setFieldTouched = _b.setFieldTouched;
        return (React.createElement(Internal, tslib_1.__assign({ name: name, value: value, onChange: function (v) { return setFieldValue(name, v); }, onBlur: function () { return setFieldTouched(name); } }, restProps)));
    }));
};
var Internal = function (_a) {
    var value = _a.value, onChange = _a.onChange, onBlur = _a.onBlur, restProps = tslib_1.__rest(_a, ["value", "onChange", "onBlur"]);
    var _b = React.useState(toContentState(value || "")), editorState = _b[0], setEditorState = _b[1];
    return (React.createElement(antd_1.Mention, tslib_1.__assign({ value: editorState, onChange: function (v) {
            setEditorState(v);
            onChange(toString(v));
        } }, restProps)));
};
//# sourceMappingURL=Mention.js.map